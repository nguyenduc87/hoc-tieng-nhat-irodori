<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc T·ª´ V·ª±ng Ng√†y 1 </title>
    <!-- Th√™m li√™n k·∫øt t·ªõi Google Fonts cho Noto Sans JP -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
    <style>
        /* To√†n b·ªô trang */
        body {
            font-family: 'Noto Sans JP', Arial, sans-serif;
            background-color: #333;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Khung ch·ª©a b√†i quiz */
        .quiz-container {
            background-color: #222;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            width: 90%;
            max-width: 600px;
            position: relative;
            text-align: center;
        }

        /* ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c */
        .timer {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: #ff5722;
            color: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        /* Ti√™u ƒë·ªÅ b√†i quiz */
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #fff;
        }

        /* Ph·∫ßn c√¢u h·ªèi */
        .question {
            margin-bottom: 20px;
            font-size: 25px;
            color: #ffd700;
        }

        /* C√°c l·ª±a ch·ªçn tr·∫£ l·ªùi */
        .choices {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .choices li {
            background-color: #444;
            padding: 12px 20px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .choices li:hover {
            background-color: #555;
        }

        .choices li.correct {
            background-color: #4caf50;
            color: #fff;
        }

        .choices li.incorrect {
            background-color: #f44336;
            color: #fff;
        }

        .btn {
            display: inline-block;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            color: #fff;
            background-color: #007bff;
            transition: background-color 0.3s ease;
        }

        #submitButton {
            background-color: #99670b;
        }

        .btn:hover {
            background-color: #0056b3;
        }

        .result {
            text-align: center;
            background-color: #444;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            display: none;
            margin-top: 20px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .result h2 {
            font-size: 22px;
            margin-bottom: 10px;
            color: #fff;
        }

        .result p {
            font-size: 18px;
            margin: 5px 0;
            color: #ddd;
        }

        .result p>span {
            color: #4caf50;
            font-weight: 600;
        }

        .warning {
            color: #f44336;
            font-size: 16px;
        }
    </style>
</head>

<body>

    <div class="quiz-container">
        <div class="timer" id="timer">07</div>
        <h1>H·ªçc 20 T·ª´ V·ª±ng M·ªói Ng√†y</h1>
        <div class="question">
            <p id="question">C√¢u h·ªèi s·∫Ω xu·∫•t hi·ªán ·ªü ƒë√¢y</p>
        </div>
        <ul class="choices" id="choices"></ul>
        <div>
            <button id="nextButton" class="btn" onclick="nextQuestion()" style="display:none;">Ti·∫øp t·ª•c</button>
            <button id="submitButton" class="btn" onclick="submitQuiz()" style="display:none;">Xem k·∫øt qu·∫£ th√¥i</button>
        </div>
        <div id="feedback" style="display:none; color: #4caf50; font-size: 20px; margin-top: 10px;"></div>
        <div id="warning" class="warning" style="display: none;">H·∫øt gi·ªù ! ·∫§n "Ti·∫øp t·ª•c" ƒë·ªÉ l√†m ti·∫øp!
        </div>

        <div class="result" id="result">
            <h2>K·∫øt Qu·∫£ Ki·ªÉm Tra</h2>
            <p>T·ªïng s·ªë c√¢u h·ªèi: <span id="totalQuestions"></span></p>
            <p>S·ªë c√¢u ƒë√∫ng: <span id="correctAnswers"></span></p>
            <p>S·ªë c√¢u sai: <span id="incorrectAnswers"></span></p>
            <p>S·ªë c√¢u ch∆∞a ch·ªçn ƒë√°p √°n: <span id="unansweredQuestions"></span></p>
            <button class="btn" onclick="restartQuiz()">L√†m l·∫°i</button>
        </div>
    </div>

    <script>

        const questions = [
            {
                question: "„Å™„Åç„Åæ„Åô",
                choices: ["Kh√≥c", "C∆∞·ªùi", "Gi·∫≠n d·ªØ", "Ng·ªß"],
                answer: "Kh√≥c",
                kanji: "Ê≥£„Åç„Åæ„Åô",
                exampleJP: "Â≠ê„Å©„ÇÇ„ÅåÂ§ß„Åç„Å™Â£∞„ÅßÊ≥£„Åç„Åæ„Åô„ÄÇ",
                exampleVI: "ƒê·ª©a tr·∫ª kh√≥c to.",
                userAnswer: null
            },
            {
                question: "„Çè„Çâ„ÅÑ„Åæ„Åô",
                choices: ["C∆∞·ªùi", "Kh√≥c", "Ng·∫°c nhi√™n", "Lo l·∫Øng"],
                answer: "C∆∞·ªùi",
                kanji: "Á¨ë„ÅÑ„Åæ„Åô",
                exampleJP: "ÂΩº„ÅØ„ÅÑ„Å§„ÇÇÁ¨ë„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                exampleVI: "Anh ·∫•y l√∫c n√†o c≈©ng c∆∞·ªùi.",
                userAnswer: null
            },
            {
                question: "„Åù„ÅÜ„Åò„Åó„Åæ„Åô",
                choices: ["D·ªçn d·∫πp", "Gi·∫∑t ƒë·ªì", "N·∫•u ƒÉn", "Mua s·∫Øm"],
                answer: "D·ªçn d·∫πp",
                kanji: "ÊéÉÈô§„Åó„Åæ„Åô",
                exampleJP: "ÊØéÊúù„ÄÅÈÉ®Â±ã„ÇíÊéÉÈô§„Åó„Åæ„Åô„ÄÇ",
                exampleVI: "M·ªói s√°ng t√¥i d·ªçn d·∫πp ph√≤ng.",
                userAnswer: null
            },
            {
                question: "„Åõ„Çì„Åü„Åè„Åó„Åæ„Åô",
                choices: ["Gi·∫∑t ƒë·ªì", "D·ªçn d·∫πp", "R·ª≠a b√°t", "N·∫•u ƒÉn"],
                answer: "Gi·∫∑t ƒë·ªì",
                kanji: "Ê¥óÊøØ„Åó„Åæ„Åô",
                exampleJP: "Êó•ÊõúÊó•„Å´Ê¥óÊøØ„Åó„Åæ„Åô„ÄÇ",
                exampleVI: "Ch·ªß nh·∫≠t t√¥i gi·∫∑t ƒë·ªì.",
                userAnswer: null
            },
            {
                question: "„Åä„Åì„Çä„Åæ„Åô",
                choices: ["Gi·∫≠n d·ªØ", "Vui v·∫ª", "Bu·ªìn b√£", "Ng·∫°c nhi√™n"],
                answer: "Gi·∫≠n d·ªØ",
                kanji: "ÊÄí„Çä„Åæ„Åô",
                exampleJP: "ÂÖàÁîü„ÅØÂ≠¶Áîü„Å´ÊÄí„Çä„Åæ„Åó„Åü„ÄÇ",
                exampleVI: "Gi√°o vi√™n ƒë√£ n·ªïi gi·∫≠n v·ªõi h·ªçc sinh.",
                userAnswer: null
            },
            {
                question: "„Åã„Åü„Å•„Åë„Åæ„Åô",
                choices: ["D·ªçn d·∫πp, s·∫Øp x·∫øp", "Gi·∫∑t ƒë·ªì", "V·ª©t b·ªè", "Trang tr√≠"],
                answer: "D·ªçn d·∫πp, s·∫Øp x·∫øp",
                kanji: "Áâá„Å•„Åë„Åæ„Åô",
                exampleJP: "Êú∫„ÅÆ‰∏ä„ÇíÁâá„Å•„Åë„Åæ„Åô„ÄÇ",
                exampleVI: "T√¥i d·ªçn d·∫πp tr√™n b√†n.",
                userAnswer: null
            },
            {
                question: "„ÅØ„Çâ„ÅÑ„Åæ„Åô",
                choices: ["Thanh to√°n", "Nh·∫≠n ti·ªÅn", "Ti·∫øt ki·ªám", "Vay m∆∞·ª£n"],
                answer: "Thanh to√°n",
                kanji: "Êâï„ÅÑ„Åæ„Åô",
                exampleJP: "„É¨„Çπ„Éà„É©„É≥„Åß„ÅäÈáë„ÇíÊâï„ÅÑ„Åæ„Åô„ÄÇ",
                exampleVI: "T√¥i thanh to√°n ti·ªÅn ·ªü nh√† h√†ng.",
                userAnswer: null
            },
            {
                question: "„Åç„Çì„Å°„Çá„ÅÜ„Åó„Åæ„Åô",
                choices: ["CƒÉng th·∫≥ng, h·ªìi h·ªôp", "Tho·∫£i m√°i", "Vui v·∫ª", "Bu·ªìn ng·ªß"],
                answer: "CƒÉng th·∫≥ng, h·ªìi h·ªôp",
                kanji: "Á∑äÂºµ„Åó„Åæ„Åô",
                exampleJP: "Ë©¶È®ì„ÅÆÂâç„Å´Á∑äÂºµ„Åó„Åæ„Åô„ÄÇ",
                exampleVI: "Tr∆∞·ªõc k·ª≥ thi t√¥i r·∫•t cƒÉng th·∫≥ng.",
                userAnswer: null
            },
            {
                question: "„Åß„Åã„Åë„Åæ„Åô",
                choices: ["Ra ngo√†i", "V·ªÅ nh√†", "·ªû l·∫°i", "Ng·ªß"],
                answer: "Ra ngo√†i",
                kanji: "Âá∫„Åã„Åë„Åæ„Åô",
                exampleJP: "Âèã„Å†„Å°„Å®Ë≤∑„ÅÑÁâ©„Å´Âá∫„Åã„Åë„Åæ„Åô„ÄÇ",
                exampleVI: "T√¥i ra ngo√†i mua s·∫Øm v·ªõi b·∫°n.",
                userAnswer: null
            },
            {
                question: "„ÅØ„Åü„Çâ„Åç„Åæ„Åô",
                choices: ["L√†m vi·ªác", "Ngh·ªâ ng∆°i", "H·ªçc t·∫≠p", "ƒêi ch∆°i"],
                answer: "L√†m vi·ªác",
                kanji: "ÂÉç„Åç„Åæ„Åô",
                exampleJP: "Êó•Êú¨„ÅÆ‰ºöÁ§æ„ÅßÂÉç„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
                exampleVI: "T√¥i ƒëang l√†m vi·ªác t·∫°i c√¥ng ty Nh·∫≠t.",
                userAnswer: null
            },

            // üëâ c√°c t·ª´ c√≤n l·∫°i b·∫°n gi·ªØ ƒë√∫ng format n√†y l√† xong
        ];

        // H√†m x√°o tr·ªôn m·∫£ng theo thu·∫≠t to√°n Fisher-Yates
        function shuffleQuestions(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // G·ªçi h√†m n√†y tr∆∞·ªõc khi hi·ªÉn th·ªã c√¢u h·ªèi
        shuffleQuestions(questions);

        let currentQuestion = 0;
        let timer;
        let timeRemaining = 7;
        const feedback = document.getElementById("feedback");
        const warning = document.getElementById("warning");

        function loadQuestion() {
            document.querySelector(".quiz-container").style.opacity = 0;
            feedback.style.display = "none";
            setTimeout(() => {
                const question = questions[currentQuestion];
                document.getElementById("question").textContent = question.question;
                const choicesList = document.getElementById("choices");
                choicesList.innerHTML = '';

                // T·∫°o b·∫£n sao c·ªßa m·∫£ng ƒë√°p √°n r·ªìi x√°o tr·ªôn
                let shuffledChoices = [...question.choices];
                shuffleQuestions(shuffledChoices);

                shuffledChoices.forEach(choice => {
                    const li = document.createElement("li");
                    li.textContent = choice;
                    li.onclick = () => checkAnswer(choice, li);
                    choicesList.appendChild(li);
                });

                timeRemaining = 5;
                document.getElementById("timer").textContent = timeRemaining;
                startTimer();

                document.getElementById("nextButton").style.display = "none";
                document.getElementById("submitButton").style.display = "none";
                warning.style.display = "none";

                document.querySelector(".quiz-container").style.opacity = 1;
            }, 300);
        }

        function startTimer() {
            timer = setInterval(() => {
                timeRemaining--;
                document.getElementById("timer").textContent = timeRemaining;

                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c ƒë√°p √°n
                    const choices = document.querySelectorAll("#choices li");
                    choices.forEach(choice => {
                        choice.onclick = null;
                    });
                    document.getElementById("nextButton").style.display = "inline-block";
                    if (questions[currentQuestion].userAnswer === null) {
                        warning.style.display = "block";
                        return;
                    }
                }
            }, 1000);
        }

        function checkAnswer(selected, liElement) {
            const question = questions[currentQuestion];
            const choices = document.querySelectorAll(".choices li");

            question.userAnswer = selected;
            choices.forEach(choice => {
                if (choice.textContent === question.answer) {
                    choice.classList.add("correct");
                } else if (choice.textContent === selected) {
                    choice.classList.add("incorrect");
                }
            });

            choices.forEach(choice => {
                choice.onclick = null;
            });

            clearInterval(timer);

            feedback.style.display = "block";
            feedback.innerHTML = `Kanji  : ${question.kanji}`;
            warning.style.display = "none";

            document.getElementById("nextButton").style.display = "inline-block";

            if (currentQuestion === questions.length - 1) {
                document.getElementById("nextButton").style.display = "none";
                document.getElementById("submitButton").style.display = "inline-block";
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                document.querySelector(".quiz-container").style.display = "none";
                document.getElementById("submitButton").style.display = "inline-block";
            }
        }

        function submitQuiz() {
            let correctAnswers = 0;
            let incorrectAnswers = 0;
            let unansweredQuestions = 0;

            questions.forEach(question => {
                if (question.userAnswer === question.answer) {
                    correctAnswers++;
                } else if (question.userAnswer !== null) {
                    incorrectAnswers++;
                } else {
                    unansweredQuestions++;
                }
            });

            document.getElementById("totalQuestions").textContent = questions.length;
            document.getElementById("correctAnswers").textContent = correctAnswers;
            document.getElementById("incorrectAnswers").textContent = incorrectAnswers;
            document.getElementById("unansweredQuestions").textContent = unansweredQuestions;

            document.getElementById("nextButton").style.display = "none";
            document.getElementById("submitButton").style.display = "none";

            feedback.style.display = "none";
            document.getElementById("result").style.display = "block";
            document.getElementById("result").style.opacity = 1;
        }

        function restartQuiz() {
            questions.forEach(question => question.userAnswer = null);
            currentQuestion = 0;
            loadQuestion();
            document.getElementById("result").style.display = "none";
        }

        loadQuestion();
    </script>
</body>

</html>